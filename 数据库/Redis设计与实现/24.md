# 24 - 监视器
执行 `MONITOR` 命令可以使得客户端自己变成一个监视器，会实时打印出服务器执行的所有命令。

## 24.1 - 成为监视器
redisServer 中有一个 monitors 链表，加入监视的客户端被添加到链表的尾部，并且客户端的 flags 属性会设置 REDIS_MONITOR 标识。

## 24.2 - 向监视器发送命令信息
每次处理命令之前服务器都调用 replicationFeedMonitors 函数，它创建信息并发送给监视器链表中的每个客户端。

信息中包含：当前时间、处理的数据库、执行命令的客户端的 IP 和端口、命令内容。