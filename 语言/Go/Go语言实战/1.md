# 1 - 关于 Go 语言的介绍

## 1.1 - 用 Go 解决现代编程难题

Go 在设计上试图平衡程序的性能和开发上的便利性。

### 1.1.1 - 开发速度

相比于 C、C++，Go 的编译速度要快得多。借助于更加智能的编译器，并且简化了解决依赖的算法，编译器只关注直接被引用的库，而不像 C++ 那样要便利整个依赖链中所有依赖的库，从而很多 Go 程序可以在 1 秒内编译完。

相比于静态编译的程序，动态语言或许可以更快地看到输出，但动态语言的问题是缺乏了静态编译提供的类型安全特性，从而不得不使用大量测试套件来避免在运行的时候出现奇怪的类型错误。而在 Go 语言中，编译器可以智能捕获这样的错误。

### 1.1.2 - 并发

Go 使用两个组件来实现并发程序的开发。

#### goroutine

在传统的语言中，需要编写大量的额外代码来处理线程的获取、同步、释放等。Go 中则使用 goroutine，这是一种类协程，使用的内存资源比线程要小得多，切换的开销也小得多，同时需要做的只是使用 `go` 关键字。

#### 通道

传统并发编程中最难处理的就是共享数据的访问控制，为此需要使用复杂的同步原语来实现。

Go 则提供了一种新的模式，即使用通道在 goroutine 之间传递数据，这个传输过程是天然安全的，不需要任何同步措施。值得注意的是，如果传递的是值，则传递以后两个 goroutine 都有各自的副本，因此是并发安全的；如果传递指针来访问指向的对象，则仍然需要结合同步原语来实现安全的共享。

### 1.1.3 - Go 语言的类型系统

Go 的类型系统是无继承的，它使用组合的设计模式，通过把一个类型嵌入到另一个类型中来复用所有的功能，从而避免了设计复杂的继承体系。

另外，Go 提供了独特的借口实现机制，用户可以行为进行建模，而不是对类型进行建模。用户不需要显式声明类型实现了某个接口，编译器会自动判断类型是否满足了借口的要求。

#### 类型简单

Go 支持自定义类型，其中可以包含一系列字段，类似于 C 语言的结构体。

#### Go 接口对一组行为建模

当一个类型满足了接口的要求，不需要显式声明，它的实例就可以存储在接口类型的实例中。

Go 中最常用的接口是：

```go
type Reader interface {
    Read(p []byte) (n int, err error)
}
```

Go 的整个网络库都是用了 `io.Reader` 接口来把程序的功能和不同网络的实现分离，灵活而优雅。

### 1.1.4 - 内存管理

相比于 C++，Go 提供了 GC，不用耗费额外的心智来处理内存的跟踪和回收。

## 1.2 - 你好，Go

进入 [Go Playground](play.golang.org) 就会看到 Helloworld 程序：

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello world!")
}
```
